
<div class="shipment-route-milestone-container" >
    <div class="shipment-milestone" [class.first-milestone]="i == 0"
        *ngFor="let item of shipment.milestones.slice(0,shipment.milestones.length-1); let i = index">
        <div class="cargo-stream">
            <div class="cargo-stream-icon">
                &nbsp;
                <img src="{{getMilestoneIconPath(item, i)}}" 
                *ngIf="item.iconTag !== undefined && item.iconTag !== null"
                    class="milestone-icon" />
            </div>
            <div class="cargo-stream-bullet-container 
            {{item.isReached===true? 'green' : 'grey'}}-container">
                <div class="cargo-stream-bullet" [class.green-bullet]="item.isReached===true
            " [class.grey-bullet]="item.isReached===false">
                    &nbsp;
                </div>
            </div>
            <div class="cargo-stream-label">
                <div class="milestone-label">
                    <div class="milestone-label-title">
                        {{ item.milestoneTitle }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Location</div>
                    <div class="milestone-info-data">
                        {{
              item.actualLocText
              ? item.actualLocText
              : !item.estimatedLocText
              ? '--'
              : item.estimatedLocText
              }}
                    </div>
                </div>
                <div class="milestone-info" [class.green-label]="
              item.actualLoc !== undefined && item.actualLoc !== null
            ">
                    <div class="milestone-info-label">Scheduled</div>
                    <div class="milestone-info-data">
                        {{
              item.scheduledTime == null
              ? '--'
              : (item.scheduledTime | slice: 0:16).replace('T', ' ')
              }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Estimated</div>
                    <div class="milestone-info-data">
                        {{
              item.estimatedTime == null
              ? '--'
              : (item.estimatedTime | slice: 0:16).replace('T', ' ')
              }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Actual</div>
                    <div class="milestone-info-data" [class.green-label]="
                item.actualLoc !== undefined && item.actualLoc !== null
              ">
                        {{
              item.actualTime == null
              ? '--'
              : (item.actualTime | slice: 0:16).replace('T', ' ')
              }}
                    </div>
                </div>

                <div class="milestone-info">
                        <div class="milestone-info-label">Category, Code</div>
                        <div class="milestone-info-data" [class.green-label]="
                    item.actualLoc !== undefined && item.actualLoc !== null
                  ">
                  {{item.category}} 
                  {{item.code}} 
                        </div>
                    </div>

            </div>
        </div>
    </div>
</div>

<div class="shipment-route-footer">
    <div class="shipment-milestone" *ngIf="fixedElement" id="timeline-footer-milestone">
        <div>
            <div class="cargo-stream-icon last-icon">
                &nbsp;

                <img src="{{getMilestoneIconPath(fixedElement, this.shipment.milestones.length -1)}}" *ngIf="
              fixedElement.iconTag !== undefined &&
              fixedElement.iconTag !== null
            " class="milestone-icon" />
            </div>
            <div  style="height: 43px" class="cargo-stream-bullet-container last-bullet-container 
            {{  fixedElement.isReached === true ?  'green' : 'grey'}}-container"
                id="este" >
                <div class="cargo-stream-bullet last-bullet" [class.green-bullet]="fixedElement.isReached" [class.grey-bullet]="fixedElement.isReached===false">
                    &nbsp;
                </div>
            </div>
            <div class="cargo-stream-label last-label">
                <div class="milestone-label">
                    <div class="milestone-label-title">
                        {{ fixedElement.milestoneTitle }}
                    </div>
                </div>

                <div class="milestone-info">
                    <div class="milestone-info-label">Location</div>
                    <div class="milestone-info-data">
                        {{
              fixedElement.actualLocText
              ? fixedElement.actualLocText
              : !fixedElement.estimatedLocText
              ? '--'
              : fixedElement.estimatedLocText
              }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Scheduled</div>
                    <div class="milestone-info-data">
                        {{
              fixedElement.scheduledTime == null
              ? '--'
              : (fixedElement.scheduledTime | slice: 0:16).replace(
              'T',
              '
              '
              )
              }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Estimated</div>
                    <div class="milestone-info-data">
                        {{
              fixedElement.estimatedTime == null
              ? '--'
              : (fixedElement.estimatedTime | slice: 0:16).replace(
              'T',
              '
              '
              )
              }}
                    </div>
                </div>
                <div class="milestone-info">
                    <div class="milestone-info-label">Actual</div>
                    <div class="milestone-info-data" [class.green-label]="fixedElement.isReached !== null">
                        {{
              fixedElement.actualTime == null
              ? '--'
              : (fixedElement.actualTime | slice: 0:16).replace(
              'T',
              ' '
              )
              }}
                    </div>
                </div>
                
                <div class="milestone-info">
                        <div class="milestone-info-label">Category, Code</div>
                        <div class="milestone-info-data" [class.green-label]="
                        fixedElement.actualLoc !== undefined && fixedElement.actualLoc !== null
                  ">
                  {{fixedElement.category}} 
                  {{fixedElement.code}} 
                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>